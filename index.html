<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุงุณุชุจูุงู ุงููุงุฏู ุงูุณุนูุฏู - ูููุดูุณุชุฑ</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    function SaudiStudentSurvey() {
      const [formData, setFormData] = useState({
        gender: '',
        age: '',
        studyLevel: '',
        activities: [],
        culturalActivities: [],
        socialActivities: [],
        sportsActivities: [],
        educationalActivities: [],
        eventFrequency: '',
        preferredTime: [],
        familyActivities: '',
        expectations: [],
        communicationMethod: [],
        volunteerInterest: '',
        suggestions: '',
        contactInfo: ''
      });

      const [isSubmitting, setIsSubmitting] = useState(false);

      const activities = [
        'ุฃูุดุทุฉ ุซูุงููุฉ',
        'ุฃูุดุทุฉ ุฑูุงุถูุฉ',
        'ุฃูุดุทุฉ ุงุฌุชูุงุนูุฉ',
        'ูุญุงุถุฑุงุช ููุฑุด ุนูู',
        'ุฑุญูุงุช ุชุฑููููุฉ',
        'ูุนุงููุงุช ุนุงุฆููุฉ',
        'ุฃูุดุทุฉ ุฏูููุฉ'
      ];

      const culturalOptions = [
        'ุงูุงุญุชูุงู ุจุงูููุงุณุจุงุช ุงููุทููุฉ',
        'ุงูุฃูุณูุงุช ุงูุดุนุฑูุฉ ูุงูุฃุฏุจูุฉ',
        'ุงููุนุงุฑุถ ุงููููุฉ ูุงูุชุฑุงุซูุฉ',
        'ุชุนููู ุงููุบุฉ ุงูุนุฑุจูุฉ ููุฃุจูุงุก',
        'ุฏุฑูุณ ุงูุฎุท ุงูุนุฑุจู ูุงููููู ุงูุชูููุฏูุฉ'
      ];

      const socialOptions = [
        'ููุงุกุงุช ุชุนุงุฑู ุฏูุฑูุฉ',
        'ุญููุงุช ุงุณุชูุจุงู ุงูุทูุงุจ ุงูุฌุฏุฏ',
        'ุชุฌูุนุงุช ุงููููุฉ ูุงูุดุงู',
        'ูุนุงููุงุช ุงูุทุจุฎ ุงูุฌูุงุนู',
        'ุงุญุชูุงูุงุช ุงูุฃุนูุงุฏ ูุงูููุงุณุจุงุช'
      ];

      const sportsOptions = [
        'ูุฑุฉ ุงููุฏู',
        'ูุฑุฉ ุงูุณูุฉ',
        'ุงูุณุจุงุญุฉ',
        'ุฑูุงุถุฉ ุงููุดู ูุงูุฌุฑู',
        'ุงูููุบุง ูุงูููุงูุฉ ุงูุจุฏููุฉ',
        'ุชูุณ ุงูุทุงููุฉ'
      ];

      const educationalOptions = [
        'ูุฑุด ุนูู ุฃูุงุฏูููุฉ',
        'ุฏูุฑุงุช ุชุทููุฑ ุงูููุงุฑุงุช',
        'ูุญุงุถุฑุงุช ุชูุนููุฉ',
        'ุฌูุณุงุช ุฏุนู ุงูุทูุงุจ ุงููุณุชุฌุฏูู',
        'ุจุฑุงูุฌ ุงูุชูุฌูู ุงููููู'
      ];

      const expectations = [
        'ุชูููุฑ ุจูุฆุฉ ุงุฌุชูุงุนูุฉ ุฏุงุนูุฉ',
        'ุชูุธูู ูุนุงููุงุช ููุชุธูุฉ',
        'ุงููุณุงุนุฏุฉ ูู ุงูุชุฃููู ูุน ุงูุญูุงุฉ ูู ุจุฑูุทุงููุง',
        'ุฑุจุท ุงูุทูุงุจ ุจุจุนุถูู ุงูุจุนุถ',
        'ุชูุฏูู ุงูุฏุนู ุงูุฅุฏุงุฑู ูุงูุงุณุชุดุงุฑู',
        'ุงูุญูุงุธ ุนูู ุงููููุฉ ุงูุซูุงููุฉ ุงูุณุนูุฏูุฉ',
        'ุชูููุฑ ูุนูููุงุช ุนู ุงูุฎุฏูุงุช ุงููุญููุฉ',
        'ุชูุซูู ุงูุทูุงุจ ุฃูุงู ุงูุฌูุงุช ุงูุฑุณููุฉ'
      ];

      const communicationMethods = [
        'ูุฌููุนุงุช ูุงุชุณุงุจ',
        'ุญุณุงุจุงุช ูุณุงุฆู ุงูุชูุงุตู ุงูุงุฌุชูุงุนู',
        'ุงูุจุฑูุฏ ุงูุฅููุชุฑููู',
        'ูููุน ุฅููุชุฑููู ูููุงุฏู',
        'ุงุฌุชูุงุนุงุช ุฏูุฑูุฉ'
      ];

      const toggleCheckbox = (category, value) => {
        setFormData(prev => ({
          ...prev,
          [category]: prev[category].includes(value)
            ? prev[category].filter(item => item !== value)
            : [...prev[category], value]
        }));
      };

      const handleSubmit = async () => {
        if (!formData.gender || !formData.age || !formData.studyLevel) {
          alert('ุงูุฑุฌุงุก ุฅููุงู ุงููุนูููุงุช ุงูุดุฎุตูุฉ ุงูุฃุณุงุณูุฉ');
          return;
        }

        setIsSubmitting(true);

        const formattedData = {
          timestamp: new Date().toISOString(),
          personalInfo: {
            gender: formData.gender,
            age: formData.age,
            studyLevel: formData.studyLevel
          },
          activities: formData.activities,
          culturalActivities: formData.culturalActivities,
          socialActivities: formData.socialActivities,
          sportsActivities: formData.sportsActivities,
          educationalActivities: formData.educationalActivities,
          preferences: {
            eventFrequency: formData.eventFrequency,
            preferredTime: formData.preferredTime,
            familyActivities: formData.familyActivities
          },
          expectations: formData.expectations,
          communicationMethod: formData.communicationMethod,
          volunteerInterest: formData.volunteerInterest,
          suggestions: formData.suggestions,
          contactInfo: formData.contactInfo
        };

        try {
          const response = await fetch('/.netlify/functions/submit-survey', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(formattedData)
          });

          if (!response.ok) throw new Error('ูุดู ุงูุฅุฑุณุงู');

          alert('ุดูุฑุงู ููุดุงุฑูุชู! ุชู ุฅุฑุณุงู ุฅุฌุงุจุงุชู ุจูุฌุงุญ โ');

          setFormData({
            gender: '',
            age: '',
            studyLevel: '',
            activities: [],
            culturalActivities: [],
            socialActivities: [],
            sportsActivities: [],
            educationalActivities: [],
            eventFrequency: '',
            preferredTime: [],
            familyActivities: '',
            expectations: [],
            communicationMethod: [],
            volunteerInterest: '',
            suggestions: '',
            contactInfo: ''
          });
        } catch (error) {
          console.error('Error:', error);
          alert('ุญุฏุซ ุฎุทุฃ ูู ุงูุฅุฑุณุงู. ุงูุฑุฌุงุก ุงููุญุงููุฉ ูุงุญูุงู.');
        } finally {
          setIsSubmitting(false);
        }
      };

      const CheckboxItem = ({ checked, onClick, label }) => (
        <div 
          onClick={onClick}
          className="flex items-start gap-2 p-3 rounded-lg hover:bg-green-50 cursor-pointer transition-colors"
        >
          {checked ? (
            <svg className="w-5 h-5 text-green-600 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2" strokeWidth="2"/>
              <polyline points="9 11 12 14 16 10" strokeWidth="2"/>
            </svg>
          ) : (
            <svg className="w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2" strokeWidth="2"/>
            </svg>
          )}
          <span className="text-gray-700">{label}</span>
        </div>
      );

      return (
        <div className="min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 p-4 md:p-8">
          <div className="max-w-4xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden">
            <div className="bg-gradient-to-r from-green-600 to-emerald-600 p-8 text-white">
              <h1 className="text-3xl md:text-4xl font-bold mb-3">
                ุงุณุชุจูุงู ุงููุงุฏู ุงูุณุนูุฏู - ูููุดูุณุชุฑ
              </h1>
              <p className="text-green-50 text-lg">
                ููุฏ ูุนุฑูุฉ ุขุฑุงุฆูู ูุชููุนุงุชูู ูุชุทููุฑ ุฃูุดุทุฉ ุงููุงุฏู
              </p>
            </div>

            <div className="p-8 space-y-8">

              {/* ===== ุงููุนูููุงุช ุงูุดุฎุตูุฉ ===== */}
              <div className="space-y-6">
                <h2 className="text-2xl font-bold text-gray-800 border-b-2 border-green-500 pb-2">
                  ุงููุนูููุงุช ุงูุดุฎุตูุฉ
                </h2>
                
                <div>
                  <label className="block text-gray-700 font-semibold mb-2">ุงูุฌูุณ</label>
                  <div className="flex gap-4">
                    {['ุฐูุฑ', 'ุฃูุซู'].map(option => (
                      <label key={option} className="flex items-center gap-2 cursor-pointer">
                        <input
                          type="radio"
                          name="gender"
                          value={option}
                          checked={formData.gender === option}
                          onChange={(e) => setFormData({...formData, gender: e.target.value})}
                          className="w-4 h-4 text-green-600"
                        />
                        <span className="text-gray-700">{option}</span>
                      </label>
                    ))}
                  </div>
                </div>

                <div>
                  <label className="block text-gray-700 font-semibold mb-2">ุงููุฆุฉ ุงูุนูุฑูุฉ</label>
                  <select
                    value={formData.age}
                    onChange={(e) => setFormData({...formData, age: e.target.value})}
                    className="w-full p-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none"
                  >
                    <option value="">ุงุฎุชุฑ ุงููุฆุฉ ุงูุนูุฑูุฉ</option>
                    <option value="18-24">18-24</option>
                    <option value="25-30">25-30</option>
                    <option value="31-35">31-35</option>
                    <option value="36+">36 ูุฃูุซุฑ</option>
                  </select>
                </div>

                <div>
                  <label className="block text-gray-700 font-semibold mb-2">ุงููุฑุญูุฉ ุงูุฏุฑุงุณูุฉ</label>
                  <select
                    value={formData.studyLevel}
                    onChange={(e) => setFormData({...formData, studyLevel: e.target.value})}
                    className="w-full p-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none"
                  >
                    <option value="">ุงุฎุชุฑ ุงููุฑุญูุฉ ุงูุฏุฑุงุณูุฉ</option>
                    <option value="foundation">ุงูุณูุฉ ุงูุชุญุถูุฑูุฉ</option>
                    <option value="bachelor">ุจูุงููุฑููุณ</option>
                    <option value="master">ูุงุฌุณุชูุฑ</option>
                    <option value="phd">ุฏูุชูุฑุงู</option>
                    <option value="language">ุฏูุฑุฉ ูุบุฉ</option>
                  </select>
                </div>
              </div>

              {/* ===== ุงูุฃูุดุทุฉ ุงูููุถูุฉ ===== */}
              <div className="space-y-6">
                <h2 className="text-2xl font-bold text-gray-800 border-b-2 border-green-500 pb-2">
                  ุงูุฃูุดุทุฉ ุงูููุถูุฉ
                </h2>

                <div>
                  <label className="block text-gray-700 font-semibold mb-3">
                    ูุง ููุน ุงูุฃูุดุทุฉ ุงูุชู ุชูููุ (ูููู ุงุฎุชูุงุฑ ุฃูุซุฑ ูู ุฅุฌุงุจุฉ)
                  </label>
                  <div className="space-y-2">
                    {activities.map(activity => (
                      <CheckboxItem
                        key={activity}
                        checked={formData.activities.includes(activity)}
                        onClick={() => toggleCheckbox('activities', activity)}
                        label={activity}
                      />
                    ))}
                  </div>
                </div>

                {/* Cultural Activities */}
                {formData.activities.includes('ุฃูุดุทุฉ ุซูุงููุฉ') && (
                  <div className="bg-green-50 p-4 rounded-lg">
                    <label className="block text-gray-700 font-semibold mb-3">
                      ุงูุฃูุดุทุฉ ุงูุซูุงููุฉ ุงูููุถูุฉ:
                    </label>
                    <div className="space-y-2">
                      {culturalOptions.map(option => (
                        <CheckboxItem
                          key={option}
                          checked={formData.culturalActivities.includes(option)}
                          onClick={() => toggleCheckbox('culturalActivities', option)}
                          label={option}
                        />
                      ))}
                    </div>
                  </div>
                )}

                {/* Social Activities */}
                {formData.activities.includes('ุฃูุดุทุฉ ุงุฌุชูุงุนูุฉ') && (
                  <div className="bg-green-50 p-4 rounded-lg">
                    <label className="block text-gray-700 font-semibold mb-3">
                      ุงูุฃูุดุทุฉ ุงูุงุฌุชูุงุนูุฉ ุงูููุถูุฉ:
                    </label>
                    <div className="space-y-2">
                      {socialOptions.map(option => (
                        <CheckboxItem
                          key={option}
                          checked={formData.socialActivities.includes(option)}
                          onClick={() => toggleCheckbox('socialActivities', option)}
                          label={option}
                        />
                      ))}
                    </div>
                  </div>
                )}

                {/* Sports Activities */}
                {formData.activities.includes('ุฃูุดุทุฉ ุฑูุงุถูุฉ') && (
                  <div className="bg-green-50 p-4 rounded-lg">
                    <label className="block text-gray-700 font-semibold mb-3">
                      ุงูุฃูุดุทุฉ ุงูุฑูุงุถูุฉ ุงูููุถูุฉ:
                    </label>
                    <div className="space-y-2">
                      {sportsOptions.map(option => (
                        <CheckboxItem
                          key={option}
                          checked={formData.sportsActivities.includes(option)}
                          onClick={() => toggleCheckbox('sportsActivities', option)}
                          label={option}
                        />
                      ))}
                    </div>
                  </div>
                )}

                {/* Educational Activities */}
                {formData.activities.includes('ูุญุงุถุฑุงุช ููุฑุด ุนูู') && (
                  <div className="bg-green-50 p-4 rounded-lg">
                    <label className="block text-gray-700 font-semibold mb-3">
                      ุงูููุงุถูุน ุงูุชุนููููุฉ ุงูููุถูุฉ:
                    </label>
                    <div className="space-y-2">
                      {educationalOptions.map(option => (
                        <CheckboxItem
                          key={option}
                          checked={formData.educationalActivities.includes(option)}
                          onClick={() => toggleCheckbox('educationalActivities', option)}
                          label={option}
                        />
                      ))}
                    </div>
                  </div>
                )}
              </div>

              {/* ===== Preferences & Participation ===== */}
              <div className="space-y-6">
                <h2 className="text-2xl font-bold text-gray-800 border-b-2 border-green-500 pb-2">
                  ุงูุชูุถููุงุช ูุงููุดุงุฑูุฉ
                </h2>

                <div>
                  <label className="block text-gray-700 font-semibold mb-2">
                    ูู ูุฑุฉ ุชูุถู ุฅูุงูุฉ ุงููุนุงููุงุชุ
                  </label>
                  <select
                    value={formData.eventFrequency}
                    onChange={(e) => setFormData({...formData, eventFrequency: e.target.value})}
                    className="w-full p-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none"
                  >
                    <option value="">ุงุฎุชุฑ ุงูุชูุฑุงุฑ</option>
                    <option value="weekly">ุฃุณุจูุนูุงู</option>
                    <option value="biweekly">ูู ุฃุณุจูุนูู</option>
                    <option value="monthly">ุดูุฑูุงู</option>
                    <option value="quarterly">ูู ุซูุงุซุฉ ุฃุดูุฑ</option>
                  </select>
                </div>

                <div>
                  <label className="block text-gray-700 font-semibold mb-3">
                    ุงูุฃููุงุช ุงูููุถูุฉ ูุฅูุงูุฉ ุงููุนุงููุงุช:
                  </label>
                  <div className="space-y-2">
                    {['ููุงูุฉ ุงูุฃุณุจูุน (ุงูุณุจุช ูุงูุฃุญุฏ)', 'ุฃูุงู ุงูุฃุณุจูุน ูุณุงุกู', 'ุฃูุงู ุงูุฃุณุจูุน ููุงุฑุงู'].map(time => (
                      <CheckboxItem
                        key={time}
                        checked={formData.preferredTime.includes(time)}
                        onClick={() => toggleCheckbox('preferredTime', time)}
                        label={time}
                      />
                    ))}
                  </div>
                </div>

                <div>
                  <label className="block text-gray-700 font-semibold mb-2">
                    ูู ูุนู ุนุงุฆูุฉ ูู ูููุดูุณุชุฑุ
                  </label>
                  <div className="flex gap-4">
                    {['ูุนู', 'ูุง'].map(option => (
                      <label key={option} className="flex items-center gap-2 cursor-pointer">
                        <input
                          type="radio"
                          name="familyActivities"
                          value={option}
                          checked={formData.familyActivities === option}
                          onChange={(e) => setFormData({...formData, familyActivities: e.target.value})}
                          className="w-4 h-4 text-green-600"
                        />
                        <span className="text-gray-700">{option}</span>
                      </label>
                    ))}
                  </div>
                </div>
              </div>

              {/* ===== Expectations ===== */}
              <div className="space-y-6">
                <h2 className="text-2xl font-bold text-gray-800 border-b-2 border-green-500 pb-2">
                  ุงูุชููุนุงุช ูู ุงููุงุฏู ุงูุณุนูุฏู
                </h2>

                <div>
                  <label className="block text-gray-700 font-semibold mb-3">
                    ูุง ูู ุชููุนุงุชู ูู ุงููุงุฏู ุงูุณุนูุฏูุ (ูููู ุงุฎุชูุงุฑ ุฃูุซุฑ ูู ุฅุฌุงุจุฉ)
                  </label>
                  <div className="space-y-2">
                    {expectations.map(expectation => (
                      <CheckboxItem
                        key={expectation}
                        checked={formData.expectations.includes(expectation)}
                        onClick={() => toggleCheckbox('expectations', expectation)}
                        label={expectation}
                      />
                    ))}
                  </div>
                </div>

                <div>
                  <label className="block text-gray-700 font-semibold mb-3">
                    ุทุฑู ุงูุชูุงุตู ุงูููุถูุฉ:
                  </label>
                  <div className="space-y-2">
                    {communicationMethods.map(method => (
                      <CheckboxItem
                        key={method}
                        checked={formData.communicationMethod.includes(method)}
                        onClick={() => toggleCheckbox('communicationMethod', method)}
                        label={method}
                      />
                    ))}
                  </div>
                </div>

                <div>
                  <label className="block text-gray-700 font-semibold mb-2">
                    ูู ุฃูุช ููุชู ุจุงูุชุทูุน ูู ุชูุธูู ุงููุนุงููุงุชุ
                  </label>
                  <div className="space-y-2">
                    {['ูุนูุ ุฃูุฏ ุงููุดุงุฑูุฉ', 'ุฑุจูุง ูู ุงููุณุชูุจู', 'ูุงุ ุฃูุถู ุงูุญุถูุฑ ููุท'].map(option => (
                      <label key={option} className="flex items-center gap-2 cursor-pointer">
                        <input
                          type="radio"
                          name="volunteerInterest"
                          value={option}
                          checked={formData.volunteerInterest === option}
                          onChange={(e) => setFormData({...formData, volunteerInterest: e.target.value})}
                          className="w-4 h-4 text-green-600"
                        />
                        <span className="text-gray-700">{option}</span>
                      </label>
                    ))}
                  </div>
                </div>
              </div>

              {/* ===== Suggestions
              {/* ===== Suggestions & Contact Info ===== */}
              <div className="space-y-6">
                <h2 className="text-2xl font-bold text-gray-800 border-b-2 border-green-500 pb-2">
                  ุงูุงูุชุฑุงุญุงุช ูุงูููุงุญุธุงุช
                </h2>

                <div>
                  <label className="block text-gray-700 font-semibold mb-2">
                    ูู ูุฏูู ุฃู ุงูุชุฑุงุญุงุช ุฃู ุฃููุงุฑ ูุชุทููุฑ ุงููุงุฏูุ
                  </label>
                  <textarea
                    value={formData.suggestions}
                    onChange={(e) => setFormData({...formData, suggestions: e.target.value})}
                    rows="4"
                    className="w-full p-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none"
                    placeholder="ุดุงุฑููุง ุฃููุงุฑู ูุงูุชุฑุงุญุงุชู..."
                  />
                </div>

                <div>
                  <label className="block text-gray-700 font-semibold mb-2">
                    ูุนูููุงุช ุงูุชูุงุตู (ุงุฎุชูุงุฑู)
                  </label>
                  <input
                    type="text"
                    value={formData.contactInfo}
                    onChange={(e) => setFormData({...formData, contactInfo: e.target.value})}
                    className="w-full p-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none"
                    placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฃู ุฑูู ุงููุงุชุณุงุจ"
                  />
                </div>
              </div>

              {/* ===== Submit Button ===== */}
              <div className="pt-4">
                <button
                  onClick={handleSubmit}
                  disabled={isSubmitting}
                  className="w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white font-bold py-4 px-6 rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-300 shadow-lg text-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                  </svg>
                  {isSubmitting ? 'ุฌุงุฑู ุงูุฅุฑุณุงู...' : 'ุฅุฑุณุงู ุงูุงุณุชุจูุงู'}
                </button>
              </div>

              {/* ===== Footer ===== */}
              <p className="text-center text-gray-500 text-sm">
                ุดูุฑุงู ูููุชู ููุดุงุฑูุชู ูุนูุง ๐ธ๐ฆ
              </p>

            </div> {/* End of p-8 space-y-8 */}
          </div> {/* End of max-w-4xl mx-auto */}
        </div> {/* End of min-h-screen */}
      );
    }

    ReactDOM.render(<SaudiStudentSurvey />, document.getElementById('root'));
  </script>
</body>
</html>
